import*as e from"@wordpress/interactivity";var t={438:e=>{e.exports=import("@wordpress/interactivity-router")}},r={};function o(e){var s=r[e];if(void 0!==s)return s.exports;var l=r[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const s=(a={getElement:()=>e.getElement,getServerState:()=>e.getServerState,store:()=>e.store},i={},o.d(i,a),i),{addQueryArgs:l}=window.wp.url,{state:n,actions:c}=(0,s.store)("prc-platform/facets-context-provider",{state:{mouseEnterPreFetchTimer:500,navigateTimer:1e3,epSortByDate:!1,get hasPosts(){return n?.pagination?.total_rows>0},get getPostCount(){return n?.pagination?.total_rows||0},get getSelected(){return n.selected},get getServerSelected(){return(0,s.getServerState)().selected},get getUpdatedUrl(){if(void 0!==n.selected)return c.constructNewUrl(n.selected)}},actions:{constructNewUrl(e=!1){const t={};if(!1===e)return;Object.keys(e).forEach((r=>{r.startsWith(n.urlKey)?t[r]=e[r]:Array.isArray(e[r])?t[`${n.urlKey}${r}`]=e[r].join(","):t[`${n.urlKey}${r}`]=e[r]})),Object.keys(t).forEach((e=>{""!==t[e]&&"object"!=typeof t[e]||delete t[e]}));const r=window.location.href.split("?")[0].replace(/\/page\/\d+\//,"/");return l(r,t)},*updateResults(){const e=window.location.href,t=n.getUpdatedUrl;if(t===e)return void console.log("Facets_Context_Provider -> updateResults::","no change in url");console.log("Facets_Context_Provider -> updateResults::",n,e,t),n.isProcessing=!0;const r=yield Promise.resolve().then(o.bind(o,438));yield r.actions.navigate(t),console.log("YIELD: Facets_Context_Provider <- updateResults::",(0,s.getServerState)(),e,t);const{ref:l}=(0,s.getElement)();l?l.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"}),n.isProcessing=!1},*prefetch(e){const t=yield Promise.resolve().then(o.bind(o,438));n.prefetched.includes(e)||(n.prefetched.push(e),yield t.actions.prefetch(e))},onClear:(e,t=null)=>{const r=n.selected;return console.log("parent onClear",{facetSlug:e,facetValue:t,currentlySelected:r}),e?t?(r[e]=r[e].filter((e=>e!==t)),void(n.selected={...r})):(console.log("pre check:",{currentlySelected:r,facetSlug:e}),r[e]=[],n.selected={...r},n.selected):(n.selected={},void c.updateResults())}},callbacks:{onSelection(){const e=n.getSelected;Object.keys(e).length<=0?(console.log("Facets_Context_Provider -> onSelection:: FALSE NO SELECTIONS"),n.isDisabled=!0):(console.log("Facets_Context_Provider -> onSelection::",n),c.updateResults(),n.isDisabled=!1)},onEpSortByUpdate(){n.epSortByDate?n.selected.ep_sort__by_date=!0:delete n.selected.ep_sort__by_date}}});var a,i;
//# sourceMappingURL=view.js.map